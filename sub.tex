\documentclass[10pt,english]{article}
\raggedbottom
\sloppy
\usepackage{graphicx} % Required for inserting images
\usepackage{amsmath}
\usepackage{array}     % Required for p{} columns in multicolumn with xcolor
\usepackage{authblk}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage[english]{babel}
\usepackage{setspace}
\usepackage{times}
\usepackage{indentfirst}
\usepackage{titlepic}
\usepackage{enumitem}
\usepackage[utf8]{inputenc}
\usepackage[T5]{fontenc}
\usepackage{multirow}
\usepackage{booktabs}
\usepackage{minted}
\usepackage{hyperref}
\usepackage{charter}
\usepackage{float}
\usepackage{subfig}  % For subfigure support
\usepackage[table,xcdraw]{xcolor}
\makeatletter
\@ifundefined{insert@pcolumn}{%
  \let\insert@pcolumn\insert@column}{}
\makeatother
\usepackage[letterpaper,top=2cm,bottom=2cm,left=2.75cm,right=2.75cm,marginparwidth=1.75cm]{geometry}

\graphicspath{ {./images/} }
\setcounter{tocdepth}{3}

% --- Global spacing shrink by 20% ---
% Put in the preamble, after \documentclass
\usepackage{calc}      % allows 0.4\length arithmetic
\usepackage{setspace}  % for line spacing
\usepackage{enumitem}  % for list spacing
\usepackage{titlesec}  % for section spacing (optional but helpful)

% 1) Line spacing (baseline)
% If you previously used \onehalfspacing or \setstretch{1.2}, reduce by 20% of that:
% Example: from 1.2 -> 0.96
\setstretch{0.4} % 0.4 × the default line spacing (tight!)
% If you were already using \setstretch{s}, replace with \setstretch{0.4*s}.

% 2) Paragraph spacing/indent
\setlength{\parskip}{.4\parskip}
\setlength{\parindent}{.4\parindent}

% 3) Displayed math spacing
\setlength{\abovedisplayskip}{.4\abovedisplayskip}
\setlength{\belowdisplayskip}{.4\belowdisplayskip}
\setlength{\abovedisplayshortskip}{.4\abovedisplayshortskip}
\setlength{\belowdisplayshortskip}{.4\belowdisplayshortskip}

% 4) Floats (figures/tables) spacing
\setlength{\textfloatsep}{.4\textfloatsep}
\setlength{\floatsep}{.4\floatsep}
\setlength{\intextsep}{.4\intextsep}
\setlength{\dbltextfloatsep}{.4\dbltextfloatsep}
\setlength{\dblfloatsep}{.4\dblfloatsep}

% 5) Lists spacing (itemize/enumerate/description)
\setlist{itemsep=.2\itemsep, topsep=.2\topsep, parsep=.2\parsep, partopsep=.2\partopsep}

% 6) Section heading spacing (before/after)
% Adjust all levels uniformly; tweak if needed.
\titlespacing*{\section}{0pt}{.4\baselineskip}{.4\baselineskip}
\titlespacing*{\subsection}{0pt}{.4\baselineskip}{.4\baselineskip}
\titlespacing*{\subsubsection}{0pt}{.4\baselineskip}{.4\baselineskip}

% (Optional) Tighten captions slightly (requires caption package)
% \usepackage[skip=.4\baselineskip]{caption}


\begin{document}
 
\begin{titlepage}
\begin{center}

\textsc{\large \textcolor{black}{\textbf{HANOI UNIVERSITY OF SCIENCE AND TECHNOLOGY }}}\\[0.5cm]

{\huge \Large \uppercase{School of Information Communication Technology} \\[1cm] }

\includegraphics[scale=0.13]{logo-soict-hust-1.png}\\[1cm]
\textsc{\Large \textbf{Project report:}}\\[0.4cm]	

\rule{\linewidth}{0.7mm} \\[0.4cm]
{ \huge \bfseries\color{black!70!black} Laptop Store Management System \\[0.4cm] }
\rule{\linewidth}{0.7mm} \\[1cm]

\color{black!80!black}{\large \textbf{\textit{Supervised by}:}}\\[0.4cm]

\begin{tabular}{l}
\large  Ph.D. Nguyen Duc Anh  \\[1cm]
\end{tabular}

\color{black!80!black}{\large \textbf{\textit{Presented by}:}}\\[0.4cm]
\color{black}
\begin{tabular}{l}

\large Au Trung Phong - 20225455 \\[0.4cm]
\large Nguyen Nam Khanh - 20225448 \\[0.4cm]
\large Vu Duc Minh - 20225514 \\[0.4cm]
\large Tran Sy Minh Quan - 20225521 \\[0.4cm]
\large Dao Vu Tien Dat - 20225479 \\[0.4cm]
\large Tran Huu Dao - 20220061 \\[0.4cm]

\end{tabular}

\vfill

{\large \color{black!80!black}{\textbf{Hanoi - Vietnam}}\\[0.2cm] \color{blue!90!black}2025}

\end{center}
\end{titlepage}
\setstretch{1.5}


\tableofcontents

\section{Introduction}

\subsection{Problem Definition}
\subsection{Problem Solving}


\section{Planning}

\subsection{Motivation}
\subsection{Initial System Request}
\subsubsection{Business Need}
\subsubsection{Business Requirements}
\subsubsection{Business Value}
\subsubsection{Special Issues or Constraints}


\subsection{Feasibility Analysis}

\subsubsection{Technical Feasibility}
\subsubsection{Operational Feasibility}
\subsubsection{Economic Feasibility}
\subsubsection{Legal \& Regulatory Feasibility}
\subsubsection{Market Feasibility}

\subsection{Initial Project Plan}

\subsubsection{Project Scope Estimation}

\subsubsection{Staffing Plan}

\subsubsection{CASE Tools}

\clearpage

\section{Analysis}
\subsection{General Use Cases Diagram}

\begin{figure}[H]
    \centering
    \includegraphics[width=1.0\textwidth]{overall_uc.drawio.png}
    \caption{Overall Use Case of Laptop Shop Management System}
    \label{fig:backend_architecture}
\end{figure}

The general use case diagram of the \textbf{Laptop Store Management System} illustrates the main interactions between users and the system. It represents the overall system functionality and identifies the actors who participate in the system’s operations.

\paragraph{Actors:}
\begin{itemize}
    \item \textbf{Customer:} The main user who can browse products, view laptop details, register and log in, add laptops to the cart, place orders, make payments, track orders, request refunds, and submit reviews or ratings.
    \item \textbf{Shop Owner (Admin):} The administrator who manages the overall system operations, including inventory management, order processing, and refund handling.
    \item \textbf{E-Bank Payment Gateway:} An external system integrated for processing online transactions through e-banking.
    \item \textbf{User:} A general actor representing both registered and unregistered customers interacting with the system.
\end{itemize}

\paragraph{System Overview:}
The \textbf{Laptop Store Management System} allows customers to explore available laptops, view detailed specifications, and make purchases through a streamlined online process. Registered users can manage their shopping carts, complete payments via multiple methods (including e-banking or cash on delivery), and track or request refunds for their orders. The Shop Owner manages product inventory, reviews customer refund tickets, and updates the status of customer orders.

\paragraph{Diagram Description:}
The general use case diagram demonstrates the main functionalities of the system and their relationships with each actor. The diagram includes the following major interactions:
\begin{itemize}
    \item Customers can \textit{Register} and \textit{Login} to access their accounts.
    \item Once logged in, they can \textit{Explore Products}, \textit{Search Laptop}, and \textit{View Laptop Detail}.
    \item From the laptop details, they can \textit{Filter Laptop}, \textit{Add Laptop to Cart}, \textit{Submit Review \& Ratings}, or \textit{Request Refund}.
    \item Customers can manage their shopping cart through actions such as \textit{View Cart}, \textit{Delete Laptop from Cart}, and finally \textit{Place Order}.
    \item The \textit{Make Payment} use case includes two options: \textit{Pay on Delivery} and \textit{Pay via E-banking}, where the latter interacts directly with the \textbf{E-Bank Payment Gateway}.
    \item After completing orders, customers can \textit{Track Order} and, if necessary, initiate a refund request.
    \item The \textbf{Shop Owner (Admin)} can \textit{View Dashboard}, \textit{Add/Edit/Delete Laptops from Inventory}, \textit{Change Order’s Status}, and \textit{Solve Refund Tickets}.
\end{itemize}

\paragraph{Summary:}
This use case diagram provides an overview of how the system facilitates seamless interaction between customers, administrators, and external services. It defines the scope of user operations and forms the foundation for detailed use case descriptions presented in Section~3.2.

\subsection{Use Case Details}

This section presents all use case metadata cards for the Laptop Store Management System.
Each use case diagram illustrates the interaction flow between the actors and the system.
They are grouped by actor roles, following the same layout as the G8 System report.

% =====================================================
\subsubsection{Customer’s Use Case Details}
% =====================================================

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{usecase_metadata_card/uc_0_register.drawio.png}
    \caption{U0 – Register}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.95\textwidth]{usecase_metadata_card/uc_1_login.drawio.png}
    \caption{U1 – Login}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.95\textwidth]{usecase_metadata_card/uc_2_explore_products.drawio.png}
    \caption{U2 – Explore Products}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.95\textwidth]{usecase_metadata_card/uc_3_search_laptop.drawio.png}
    \caption{U3 – Search Laptop}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.95\textwidth]{usecase_metadata_card/uc_4_filter_laptop.drawio.png}
    \caption{U4 – Filter Laptop}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.95\textwidth]{usecase_metadata_card/uc_5_view_details.drawio.png}
    \caption{U5 – View Laptop Details}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.95\textwidth]{usecase_metadata_card/uc_6_add_laptop_to_cart.drawio.png}
    \caption{U6 – Add Laptop to Cart}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.95\textwidth]{usecase_metadata_card/uc_7_view_cart.drawio.png}
    \caption{U7 – View Cart}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.95\textwidth]{usecase_metadata_card/uc_8_delete_laptop_from_cart.drawio.png}
    \caption{U8 – Delete Laptop from Cart}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.95\textwidth]{usecase_metadata_card/uc_9_place_order.drawio.png}
    \caption{U9 – Place Order}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.95\textwidth]{usecase_metadata_card/uc_10_make_payment.drawio.png}
    \caption{U10 – Make Payment}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.95\textwidth]{usecase_metadata_card/uc_11_pay_on_delivery.drawio.png}
    \caption{U11 – Pay on Delivery}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.95\textwidth]{usecase_metadata_card/uc_12_pay_via_e-banking.drawio.png}
    \caption{U12 – Pay via E-banking}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.95\textwidth]{usecase_metadata_card/uc_13_track_order.drawio.png}
    \caption{U13 – Track Order}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.95\textwidth]{usecase_metadata_card/uc_14_request_refund.drawio.png}
    \caption{U14 – Request Refund}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.95\textwidth]{usecase_metadata_card/uc_15_submit_reviews_and_ratings.drawio.png}
    \caption{U15 – Submit Reviews and Ratings}
\end{figure}

% =====================================================
\subsubsection{Admin’s Use Case Details}
% =====================================================

\begin{figure}[H]
    \centering
    \includegraphics[width=0.95\textwidth]{usecase_metadata_card/uc_16_view_dashboard.drawio.png}
    \caption{U16 – View Dashboard}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.95\textwidth]{usecase_metadata_card/uc_17_add_laptop_to_inventory.drawio.png}
    \caption{U17 – Add Laptop to Inventory}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.95\textwidth]{usecase_metadata_card/uc_18_edit_laptop_from_inventory.drawio.png}
    \caption{U18 – Edit Laptop from Inventory}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.95\textwidth]{usecase_metadata_card/uc_19_delete_laptop_from_inventory.drawio.png}
    \caption{U19 – Delete Laptop from Inventory}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.95\textwidth]{usecase_metadata_card/uc_20_change_order’s_status.drawio.png}
    \caption{U20 – Update Order State}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.95\textwidth]{usecase_metadata_card/uc_21_solve_refund_tickets.drawio.png}
    \caption{U21 – Solve Refund Tickets}
\end{figure}

% =====================================================
\subsection{Activity Diagram}
% =====================================================

% ------------------- CUSTOMER -------------------
\subsubsection{Customer’s Activity Diagram}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Activity_Diagram/C1_register.drawio.png}
    \caption{U0 – Register}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Activity_Diagram/C2_login.drawio.png}
    \caption{U1 – Login}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Activity_Diagram/UC_2.drawio.png}
    \caption{U2 – Explore Products}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Activity_Diagram/UC_3.drawio.png}
    \caption{U3 – Search Laptop}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Activity_Diagram/UC4.drawio.png}
    \caption{U4 – Filter Laptop}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Activity_Diagram/UC5.drawio.png}
    \caption{U5 – View Laptop Details}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Activity_Diagram/C3_add_laptop.drawio.png}
    \caption{U6 – Add Laptop to Cart}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Activity_Diagram/UC7.drawio.png}
    \caption{U7 – View Cart}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Activity_Diagram/C4_delete_cart.drawio.png}
    \caption{U8 – Delete Laptop from Cart}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Activity_Diagram/C5.drawio.png}
    \caption{U9 – Place Order}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Activity_Diagram/C6.drawio.png}
    \caption{U10 – Make Payment}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Activity_Diagram/C7.drawio.png}
    \caption{U13 – Track Order}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Activity_Diagram/C8.drawio.png}
    \caption{U14 – Request Refund}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Activity_Diagram/U15.drawio.png}
    \caption{U15 – Submit Reviews and Ratings}
\end{figure}

\clearpage

% ------------------- ADMIN -------------------
\subsubsection{Admin’s Activity Diagram}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Activity_Diagram/A6.drawio.png}
    \caption{U16 –  View Dashboard}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Activity_Diagram/A1.drawio.png}
    \caption{U17 – Add Laptop to Inventory}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Activity_Diagram/A2.drawio.png}
    \caption{U18 – Edit Laptop from Inventory}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Activity_Diagram/A3.drawio.png}
    \caption{U19 – Delete Laptop from Inventory}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Activity_Diagram/A4.drawio.png}
    \caption{U20 – Update Order State}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Activity_Diagram/A5.drawio.png}
    \caption{U21 – Solve Refund Ticket}
\end{figure}


\subsection{Sequence Diagram}
% \subsubsection{Customer’s Use Case}
% \subsubsection{Admin’s Use Case Details}
% ============================
%   SEQUENCE DIAGRAM FIGURES
% ============================

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Sequence_Diagram/UC_0_Register.png}
    \caption{UC 0 – Register}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Sequence_Diagram/UC_1_Login.png}
    \caption{UC 1 – Login}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Sequence_Diagram/UC_2_ExploreProducts.png}
    \caption{UC 2 – Explore Products}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Sequence_Diagram/UC_3_SearchLaptop-Trang-1.drawio.png}
    \caption{UC 3 – Search Laptop}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Sequence_Diagram/UC_4_FilterLaptop.drawio.png}
    \caption{UC 4 – Filter Laptop}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Sequence_Diagram/UC_5_ViewDetail.png}
    \caption{UC 5 – View Detail}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Sequence_Diagram/UC_6_AddLaptopToCart.png}
    \caption{UC 6 – Add Laptop to Cart}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Sequence_Diagram/UC_7_ViewCart.drawio.png}
    \caption{UC 7 – View Cart}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Sequence_Diagram/UC_8_DeleteLaptopFromCart.png}
    \caption{UC 8 – Delete Laptop from Cart}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Sequence_Diagram/UC_9_PlaceOrder.png}
    \caption{UC 9 – Place Order}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Sequence_Diagram/UC_10_MakePayment.drawio.png}
    \caption{UC 10 – Make Payment}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Sequence_Diagram/UC_13_TrackOrder.png}
    \caption{UC 13 – Track Order}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Sequence_Diagram/UC_14_RequestRefund.drawio.png}
    \caption{UC 14 – Request Refund}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Sequence_Diagram/UC_15_SubmitReviewAndRating.drawio.png}
    \caption{UC 15 – Submit Review and Rating}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Sequence_Diagram/UC_16_ViewDashboard.drawio.png}
    \caption{UC 16 – View Dashboard}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Sequence_Diagram/UC_17_AddLaptopToInventory.drawio.png}
    \caption{UC 17 – Add Laptop to Inventory}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Sequence_Diagram/UC_18_EditLaptopFromInventory.drawio.png}
    \caption{UC 18 – Edit Laptop from Inventory}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Sequence_Diagram/UC_19_DeleteLaptopFromInventory.drawio.png}
    \caption{UC 19 – Delete Laptop from Inventory}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Sequence_Diagram/UC_20_ChangeOrder_sStatus.drawio.png}
    \caption{UC 20 – Change Order State}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth, height=0.85\textheight, keepaspectratio]{Sequence_Diagram/UC_21_SolveRefundTicket.drawio.png}
    \caption{UC 21 – Solve Refund Ticket}
\end{figure}


\subsection{Non-functional Requirements}

\section{Design}

% =====================================================
\subsection{Architecture Design}
% =====================================================

\subsubsection{Package Diagram}
The Laptop Store Management System is architected using the \textbf{Model--View--Controller (MVC)} design pattern, which ensures a clear separation of concerns, maintainability, and scalability. This architecture divides the application into three interconnected components:

\begin{itemize}
    \item \textbf{Model Layer}: This layer represents the core business logic and data state of the application. It encapsulates entities specific to the domain, such as \texttt{Laptop} (product details, stock), \texttt{User} (customer and admin profiles), \texttt{Order} (transaction history), and \texttt{Cart} (temporary shopping items). The Model is responsible for data integrity and business rules, independent of the user interface.
    
    \item \textbf{View Layer}: The View layer is responsible for the presentation of data to the user. In our system, this includes the graphical user interfaces (GUI) such as the \textit{Product Catalog} for browsing laptops, the \textit{Shopping Cart} screen, the \textit{Checkout} interface, and the \textit{Admin Dashboard} for inventory management. The View observes the Model and updates the display when the state changes.
    
    \item \textbf{Controller Layer}: The Controller acts as an intermediary between the View and the Model. It handles user interactions, such as adding a laptop to the cart or processing a payment. Controllers like \texttt{LaptopController} and \texttt{OrderController} receive input from the View, validate it, and invoke the appropriate business logic in the Model.
\end{itemize}

The dependency direction is strictly \textbf{View $\rightarrow$ Controller $\rightarrow$ Model}, ensuring that the business logic remains decoupled from the user interface. This structure allows for easier testing and future enhancements, such as adding new payment methods or modifying the UI without affecting the core system logic.

% If you have an overall package diagram PNG, insert it here.
\begin{figure}[H]
    \centering
    \includegraphics[width=0.5\textwidth]{Package_Diagram/PackageDiagram.drawio.png}
    \caption{MVC Package Diagram}
    \label{fig:pkg_diagram}
\end{figure}

% =====================================================
\subsubsection{Detailed Package Diagram}
% =====================================================
This section presents the detailed package-level class organization following the MVC (Model--View--Controller) architecture.
Each package diagram groups classes by responsibility and highlights the main dependencies across layers.

% ------------------- Model Package -------------------
\paragraph{Model Package}
The \textbf{Model} package contains the system's core domain entities and state objects, representing business data such as users, laptops, carts, orders, payments, refunds, reviews, and filtering/metrics DTOs.
These classes encapsulate business rules (e.g., stock validation, subtotal computation, status transitions) and provide the data structures consumed by the Controller layer.

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{Package_Diagram/ModelPackage_redrawn.drawio.png}
    \caption{Detailed Package Diagram -- Model Package}
    \label{fig:model_package_diagram}
\end{figure}

% ------------------- View Package -------------------
\paragraph{View Package}
The \textbf{View} package defines all UI screens/components used by customers and administrators.
Views maintain UI state (inputs, selected IDs, current page, displayed lists) and expose event-driven methods (e.g., submit form, click actions) that forward user intents to controllers.
Views do not directly modify persistent data; instead, they render controller-provided Models (e.g., \texttt{M\_Laptop}, \texttt{M\_Order}, \texttt{M\_RefundTicket}) and display errors consistently via the base view behavior.

\begin{figure}[H]
    \centering
    \includegraphics[width=1.1\textwidth]{Package_Diagram/ViewPackage_redrawn.drawio.png}
    \caption{Detailed Package Diagram -- View Package}
    \label{fig:view_package_diagram}
\end{figure}

% ------------------- Controller Package -------------------
\paragraph{Controller Package}
The \textbf{Controller} package coordinates system workflows and mediates between Views and Models.
Controllers validate input, enforce business rules, orchestrate multi-step operations (checkout, payment confirmation, refund resolution), and return model snapshots for rendering.
This package also contains the payment gateway abstraction to isolate external payment integration from UI logic and domain objects.

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{Package_Diagram/ControllerPackage_redrawn.drawio.png}
    \caption{Detailed Package Diagram -- Controller Package}
    \label{fig:controller_package_diagram}
\end{figure}


\subsection{Class Specification Design}

% =====================================================
\subsubsection{Model Package}
% =====================================================

% --- M_User ---
\paragraph{Class M\_User}
\noindent\textbf{Description:} Represents a registered user within the system, encapsulating authentication credentials and role-based access control (Admin or Customer). It is referenced by Cart, Orders, and Reviews to link actions to an identity.

\noindent\textbf{Attributes:}
\begin{center}
\begin{tabular}{|p{3cm}|p{2.5cm}|p{2.5cm}|p{6cm}|}
\hline
\textbf{Attribute} & \textbf{Datatype} & \textbf{Accessibility} & \textbf{Description} \\ \hline
userId & UUID & Public & Unique identifier for the user. \\ \hline
email & String & Public & Email used as login credential (unique). \\ \hline
role & String & Public & Role of the user (Admin/Customer). \\ \hline
passwordHash & String & Private & Hashed password used for authentication. \\ \hline
isActive & Boolean & Private & Whether the account is active and allowed to login. \\ \hline
createdAt & DateTime & Private & Timestamp when the account was created. \\ \hline
lastLoginAt & DateTime & Private & Timestamp of the last successful login. \\ \hline
\end{tabular}
\end{center}

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{3.5cm}|p{3.2cm}|p{2.3cm}|p{2cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
verifyPassword & plainPassword:String & Boolean & Public & Validates a password against \textit{passwordHash}. \\ \hline
deactivate & reason:String & void & Public & Deactivates the user and prevents future logins. \\ \hline
setLastLogin & time:DateTime & void & Private & Updates \textit{lastLoginAt} after successful login. \\ \hline
\end{tabular}
\end{center}

% --- M_Laptop ---
\paragraph{Class M\_Laptop}
\noindent\textbf{Description:} Represents a laptop product in the store catalog and inventory. It stores core details used for listing, pricing, stock validation, and admin inventory management.

\noindent\textbf{Attributes:}
\begin{center}
\begin{tabular}{|p{3cm}|p{2.5cm}|p{2.5cm}|p{6cm}|}
\hline
\textbf{Attribute} & \textbf{Datatype} & \textbf{Accessibility} & \textbf{Description} \\ \hline
laptopId & UUID & Public & Unique identifier for the laptop. \\ \hline
brand & String & Public & Manufacturer brand name. \\ \hline
price & Decimal & Public & Current selling price. \\ \hline
stockQty & int & Public & Quantity currently available in stock. \\ \hline
modelName & String & Public & Commercial model name (e.g., ``XPS 13''). \\ \hline
specSummary & String & Public & Compact specifications shown in UI listing/detail. \\ \hline
isActive & Boolean & Private & Whether product is visible/available for sale. \\ \hline
updatedAt & DateTime & Private & Timestamp of last inventory update. \\ \hline
\end{tabular}
\end{center}

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{3.5cm}|p{3.2cm}|p{2.3cm}|p{2cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
isInStock & requestedQty:int & Boolean & Public & Returns true if \textit{stockQty} is sufficient. \\ \hline
adjustStock & deltaQty:int & int & Public & Adjusts stock by delta and returns new \textit{stockQty}. \\ \hline
changePrice & newPrice:Decimal & void & Public & Updates \textit{price} for admin operations. \\ \hline
\end{tabular}
\end{center}

% --- M_Review ---
\paragraph{Class M\_Review}
\noindent\textbf{Description:} Represents feedback and rating created by a user for a laptop. Used for product detail display and rating aggregation.

\noindent\textbf{Attributes:}
\begin{center}
\begin{tabular}{|p{3cm}|p{2.5cm}|p{2.5cm}|p{6cm}|}
\hline
\textbf{Attribute} & \textbf{Datatype} & \textbf{Accessibility} & \textbf{Description} \\ \hline
reviewId & UUID & Public & Unique identifier for the review. \\ \hline
rating & int & Public & Star rating (typically 1--5). \\ \hline
comment & String & Public & Review comment text. \\ \hline
userId & UUID & Public & Author of the review. \\ \hline
laptopId & UUID & Public & Laptop being reviewed. \\ \hline
createdAt & DateTime & Private & Submission time of the review. \\ \hline
\end{tabular}
\end{center}

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{3.5cm}|p{3.2cm}|p{2.3cm}|p{2cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
validate & N/A & Boolean & Public & Validates rating range and comment constraints. \\ \hline
\end{tabular}
\end{center}

% --- M_Cart ---
\paragraph{Class M\_Cart}
\noindent\textbf{Description:} Represents an active shopping cart owned by a user. Aggregates CartItem lines and maintains a calculated total amount for checkout.

\noindent\textbf{Attributes:}
\begin{center}
\begin{tabular}{|p{3cm}|p{3cm}|p{2.5cm}|p{6cm}|}
\hline
\textbf{Attribute} & \textbf{Datatype} & \textbf{Accessibility} & \textbf{Description} \\ \hline
cartId & UUID & Public & Unique identifier for the cart. \\ \hline
userId & UUID & Public & Owner user identifier. \\ \hline
totalAmount & Decimal & Public & Sum of all cart item subtotals. \\ \hline
items & List\textless M\_CartItem\textgreater & Private & Collection of cart line items. \\ \hline
updatedAt & DateTime & Private & Last modified timestamp of the cart. \\ \hline
\end{tabular}
\end{center}

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{3cm}|p{4cm}|p{3cm}|p{1.3cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
addItem & laptopId:UUID, qty:int, unitPrice: Decimal & M\_CartItem & Public & Adds or merges a cart line and returns the updated item. \\ \hline
removeItem & itemId:UUID & Boolean & Public & Removes item by id; returns true if removed. \\ \hline
recalculateTotal & N/A & Decimal & Public & Recomputes and returns \textit{totalAmount}. \\ \hline
getItems & N/A & List\textless M\_CartItem\textgreater & Public & Returns list of items for UI rendering. \\ \hline
\end{tabular}
\end{center}

% --- M_CartItem ---
\paragraph{Class M\_CartItem}
\noindent\textbf{Description:} Represents a line item within a cart. It binds a laptop to a chosen quantity and calculates subtotal based on unit price.

\noindent\textbf{Attributes:}
\begin{center}
\begin{tabular}{|p{3cm}|p{2.5cm}|p{2.5cm}|p{6cm}|}
\hline
\textbf{Attribute} & \textbf{Datatype} & \textbf{Accessibility} & \textbf{Description} \\ \hline
itemId & UUID & Public & Unique identifier for the cart item. \\ \hline
laptopId & UUID & Public & Identifier of the chosen laptop. \\ \hline
quantity & int & Public & Quantity selected by the user. \\ \hline
unitPrice & Decimal & Public & Unit price snapshot used for subtotal. \\ \hline
subtotal & Decimal & Public & Computed amount: unitPrice $\times$ quantity. \\ \hline
\end{tabular}
\end{center}

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{3.5cm}|p{3.2cm}|p{2.3cm}|p{2cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
updateQuantity & newQty:int & void & Public & Updates quantity and refreshes subtotal. \\ \hline
computeSubtotal & N/A & Decimal & Public & Returns unitPrice $\times$ quantity. \\ \hline
\end{tabular}
\end{center}

% --- M_Order ---
\paragraph{Class M\_Order}
\noindent\textbf{Description:} Represents a confirmed purchase created from a cart checkout. Tracks lifecycle status and contains immutable order items for historical accuracy.

\noindent\textbf{Attributes:}
\begin{center}
\begin{tabular}{|p{3cm}|p{3cm}|p{2.5cm}|p{6cm}|}
\hline
\textbf{Attribute} & \textbf{Datatype} & \textbf{Accessibility} & \textbf{Description} \\ \hline
orderId & UUID & Public & Unique identifier for the order. \\ \hline
userId & UUID & Public & User who placed the order. \\ \hline
status & String & Public & State (Pending, Paid, Shipped, Delivered, Cancelled). \\ \hline
totalAmount & Decimal & Public & Total amount for all order items. \\ \hline
items & List\textless M\_OrderItem\textgreater & Private & Immutable set of purchased items. \\ \hline
createdAt & DateTime & Private & Time order was created. \\ \hline
updatedAt & DateTime & Private & Time status was last updated. \\ \hline
\end{tabular}
\end{center}

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{2.8cm}|p{3.2cm}|p{3.1cm}|p{2cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
updateStatus & newStatus:String, updatedBy:UUID & void & Public & Changes state and refreshes \textit{updatedAt}. \\ \hline
getItems & N/A & List\textless M\_OrderItem\textgreater & Public & Returns items for order detail rendering. \\ \hline
\end{tabular}
\end{center}

% --- M_OrderItem ---
\paragraph{Class M\_OrderItem}
\noindent\textbf{Description:} Represents an immutable purchased line within an order. Captures unit price at purchase-time to preserve history.

\noindent\textbf{Attributes:}
\begin{center}
\begin{tabular}{|p{3cm}|p{2.5cm}|p{2.5cm}|p{6cm}|}
\hline
\textbf{Attribute} & \textbf{Datatype} & \textbf{Accessibility} & \textbf{Description} \\ \hline
orderItemId & UUID & Public & Unique identifier for the order item. \\ \hline
laptopId & UUID & Public & Laptop purchased. \\ \hline
quantity & int & Public & Quantity purchased. \\ \hline
unitPrice & Decimal & Public & Unit price at purchase-time. \\ \hline
subtotal & Decimal & Public & Computed line subtotal. \\ \hline
\end{tabular}
\end{center}

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{3.5cm}|p{3.6cm}|p{2.3cm}|p{2cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
computeSubtotal & N/A & Decimal & Public & Returns unitPrice $\times$ quantity. \\ \hline
\end{tabular}
\end{center}

% --- M_PaymentTransaction ---
\paragraph{Class M\_PaymentTransaction}
\noindent\textbf{Description:} Represents a payment attempt for an order. Stores payment method, gateway reference, amount, and final transaction state.

\noindent\textbf{Attributes:}
\begin{center}
\begin{tabular}{|p{3cm}|p{2.5cm}|p{2.5cm}|p{6cm}|}
\hline
\textbf{Attribute} & \textbf{Datatype} & \textbf{Accessibility} & \textbf{Description} \\ \hline
transactionId & UUID & Public & Unique identifier for the transaction. \\ \hline
orderId & UUID & Public & Order associated with the payment. \\ \hline
amount & Decimal & Public & Amount requested/paid. \\ \hline
method & String & Public & Payment method (E-Banking, COD, etc.). \\ \hline
status & String & Public & Status (Pending, Success, Failed). \\ \hline
gatewayRef & String & Private & External gateway reference/trace id. \\ \hline
createdAt & DateTime & Private & Creation timestamp for transaction record. \\ \hline
paidAt & DateTime & Private & Payment success timestamp (if applicable). \\ \hline
\end{tabular}
\end{center}

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{3.5cm}|p{3.2cm}|p{2.3cm}|p{2cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
markSuccess & gatewayRef:String, paidAt:DateTime & void & Public & Sets status to Success and stores confirmation fields. \\ \hline
markFailed & reason:String & void & Public & Sets status to Failed and records failure context. \\ \hline
\end{tabular}
\end{center}

% --- M_RefundTicket ---
\paragraph{Class M\_RefundTicket}
\noindent\textbf{Description:} Represents a refund request for an order. Created by customer and processed by admin with a final decision and notes.

\noindent\textbf{Attributes:}
\begin{center}
\begin{tabular}{|p{3cm}|p{2.5cm}|p{2.5cm}|p{6cm}|}
\hline
\textbf{Attribute} & \textbf{Datatype} & \textbf{Accessibility} & \textbf{Description} \\ \hline
ticketId & UUID & Public & Unique identifier for the refund ticket. \\ \hline
orderId & UUID & Public & Order being refunded. \\ \hline
userId & UUID & Public & User who submitted the refund request. \\ \hline
status & String & Public & State (Pending, Approved, Rejected). \\ \hline
reason & String & Public & Customer provided reason for refund. \\ \hline
adminNote & String & Private & Admin decision note/comment. \\ \hline
createdAt & DateTime & Private & Ticket creation timestamp. \\ \hline
resolvedAt & DateTime & Private & Decision timestamp. \\ \hline
\end{tabular}
\end{center}

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{3.5cm}|p{3.2cm}|p{2.3cm}|p{2cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
approve & adminId:UUID, note:String & void & Public & Approves refund request and finalizes ticket state. \\ \hline
reject & adminId:UUID, note:String & void & Public & Rejects refund request and finalizes ticket state. \\ \hline
\end{tabular}
\end{center}

% --- M_FilterCriteria ---
\paragraph{Class M\_FilterCriteria}
\noindent\textbf{Description:} DTO used to express search and filter settings for catalog browsing. Ensures the controller receives a structured query request.

\noindent\textbf{Attributes:}
\begin{center}
\begin{tabular}{|p{3cm}|p{2.5cm}|p{2.5cm}|p{6cm}|}
\hline
\textbf{Attribute} & \textbf{Datatype} & \textbf{Accessibility} & \textbf{Description} \\ \hline
brand & String & Public & Brand filter value (optional). \\ \hline
minPrice & Decimal & Public & Minimum price threshold (optional). \\ \hline
maxPrice & Decimal & Public & Maximum price threshold (optional). \\ \hline
keywords & String & Public & Text keyword search (optional). \\ \hline
page & int & Public & Page index for pagination. \\ \hline
pageSize & int & Public & Size of each page. \\ \hline
\end{tabular}
\end{center}

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{3.5cm}|p{3.2cm}|p{2.3cm}|p{2cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
isValid & N/A & Boolean & Public & Validates paging and price constraints (minPrice $\le$ maxPrice). \\ \hline
\end{tabular}
\end{center}

% --- M_Metrics ---
\paragraph{Class M\_Metrics}
\noindent\textbf{Description:} Represents aggregated metrics used by the admin dashboard to visualize business performance over a selected time window.

\noindent\textbf{Attributes:}
\begin{center}
\begin{tabular}{|p{3cm}|p{2.5cm}|p{2.5cm}|p{6cm}|}
\hline
\textbf{Attribute} & \textbf{Datatype} & \textbf{Accessibility} & \textbf{Description} \\ \hline
totalOrders & int & Public & Total number of orders in time window. \\ \hline
totalRevenue & Decimal & Public & Total revenue in time window. \\ \hline
periodStart & DateTime & Public & Start time of aggregation window. \\ \hline
periodEnd & DateTime & Public & End time of aggregation window. \\ \hline
\end{tabular}
\end{center}

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{3.5cm}|p{3.2cm}|p{2.3cm}|p{2cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
averageOrderValue & N/A & Decimal & Public & Returns totalRevenue divided by totalOrders (safe for 0). \\ \hline
\end{tabular}
\end{center}



% =====================================================
\subsubsection{View Package}
% =====================================================

% --- V_BaseView ---
\paragraph{Class V\_BaseView}
\noindent\textbf{Description:} Abstract base class defining common UI behavior for all screens. It standardizes view lifecycle (show/hide) and error display for consistent UX.

\noindent\textbf{Attributes:}
\begin{center}
\begin{tabular}{|p{3cm}|p{2.5cm}|p{2.5cm}|p{6cm}|}
\hline
\textbf{Attribute} & \textbf{Datatype} & \textbf{Accessibility} & \textbf{Description} \\ \hline
title & String & Public & Title displayed on the view header. \\ \hline
isVisible & Boolean & Private & Whether the view is currently visible. \\ \hline
errorMessage & String & Private & Latest error shown to the user. \\ \hline
\end{tabular}
\end{center}

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{4cm}|p{3.5cm}|p{2cm}|p{2cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
show & N/A & void & Public & Renders and shows the view. \\ \hline
hide & N/A & void & Public & Hides the view and clears focus. \\ \hline
displayError & message:String & void & Public & Displays an error message on the UI. \\ \hline
\end{tabular}
\end{center}

% --- V_HomepageView ---
\paragraph{Class V\_HomepageView}
\noindent\textbf{Description:} Entry view for customers. Displays initial product page and provides navigation actions to login and catalog features.

\noindent\textbf{Attributes:}
\begin{center}
\begin{tabular}{|p{3cm}|p{2.5cm}|p{2.5cm}|p{6cm}|}
\hline
\textbf{Attribute} & \textbf{Datatype} & \textbf{Accessibility} & \textbf{Description} \\ \hline
products & List\textless M\_Laptop\textgreater & Private & Current product list rendered. \\ \hline
currentPage & int & Private & Page index currently displayed. \\ \hline
pageSize & int & Private & Count of products per page. \\ \hline
selectedLaptopId & UUID & Private & Laptop selected for navigation to detail. \\ \hline
\end{tabular}
\end{center}

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{3.5cm}|p{4cm}|p{1.6cm}|p{1.6cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
renderAllProductsPage & products:List\textless M\_Laptop\textgreater & void & Public & Renders product grid from controller-provided list. \\ \hline
loadNextPage & N/A & void & Public & Triggers pagination request to controller. \\ \hline
selectLogin & N/A & void & Public & Navigates to login screen. \\ \hline
\end{tabular}
\end{center}

% --- V_RegistrationFormView ---
\paragraph{Class V\_RegistrationFormView}
\noindent\textbf{Description:} Registration UI that collects user credentials, shows validation feedback, and submits registration requests to the controller.

\noindent\textbf{Attributes:}
\begin{center}
\begin{tabular}{|p{3.8cm}|p{2.5cm}|p{2.5cm}|p{6cm}|}
\hline
\textbf{Attribute} & \textbf{Datatype} & \textbf{Accessibility} & \textbf{Description} \\ \hline
emailInput & String & Private & Email input field value. \\ \hline
passwordInput & String & Private & Password input field value. \\ \hline
confirmPasswordInput & String & Private & Confirmation password field value. \\ \hline
roleSelection & String & Private & Selected role (default Customer). \\ \hline
validationErrors & List\textless String\textgreater & Private & Errors displayed when validation fails. \\ \hline
\end{tabular}
\end{center}

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{4cm}|p{2.5cm}|p{2cm}|p{2cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
showRegistrationForm & N/A & void & Public & Displays registration form and resets local state. \\ \hline
submitForm & email:String, \newline password:String, \newline confirm:String, \newline role:String & void & Public & Sends registration data to controller for processing. \\ \hline
\end{tabular}
\end{center}

% --- V_CatalogPageView ---
\paragraph{Class V\_CatalogPageView}
\noindent\textbf{Description:} Catalog browsing UI supporting filters and pagination. It renders filtered product lists returned by the controller.

\noindent\textbf{Attributes:}
\begin{center}
\begin{tabular}{|p{3cm}|p{2.5cm}|p{2.5cm}|p{6cm}|}
\hline
\textbf{Attribute} & \textbf{Datatype} & \textbf{Accessibility} & \textbf{Description} \\ \hline
criteria & M\_FilterCriteria & Private & Current filter criteria used for queries. \\ \hline
results & List\textless M\_Laptop\textgreater & Private & Products currently displayed. \\ \hline
currentPage & int & Private & Current page index. \\ \hline
pageSize & int & Private & Page size for listing. \\ \hline
\end{tabular}
\end{center}

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{4cm}|p{4cm}|p{1.8cm}|p{1.8cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
displayFilteredProducts & products:List\textless M\_Laptop\textgreater & void & Public & Renders the filtered result list. \\ \hline
selectFilterOptions & criteria:M\_FilterCriteria & void & Public & Captures filters and triggers a new query. \\ \hline
\end{tabular}
\end{center}

% --- V_ProductPageView ---
\paragraph{Class V\_ProductPageView}
\noindent\textbf{Description:} Product detail UI showing laptop specifications, price, reviews, and an add-to-cart action.

\noindent\textbf{Attributes:}
\begin{center}
\begin{tabular}{|p{3cm}|p{2.8cm}|p{2.5cm}|p{6cm}|}
\hline
\textbf{Attribute} & \textbf{Datatype} & \textbf{Accessibility} & \textbf{Description} \\ \hline
laptop & M\_Laptop & Private & Laptop currently displayed. \\ \hline
reviews & List\textless M\_Review\textgreater & Private & Reviews displayed under the product. \\ \hline
desiredQty & int & Private & Quantity user wants to add to cart. \\ \hline
\end{tabular}
\end{center}

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{3.5cm}|p{4.5cm}|p{1.5cm}|p{1.5cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
displayLaptopDetails & laptop:M\_Laptop, \newline reviews:List\textless M\_Review\textgreater & void & Public & Binds laptop data and review list to UI components. \\ \hline
addToCart & laptopId:UUID, qty:int & void & Public & Sends add-to-cart request to controller. \\ \hline
\end{tabular}
\end{center}

% --- V_CartPageView ---
\paragraph{Class V\_CartPageView}
\noindent\textbf{Description:} Cart UI allowing users to review items, remove items, and proceed to checkout.

\noindent\textbf{Attributes:}
\begin{center}
\begin{tabular}{|p{3cm}|p{2.5cm}|p{2.5cm}|p{6cm}|}
\hline
\textbf{Attribute} & \textbf{Datatype} & \textbf{Accessibility} & \textbf{Description} \\ \hline
cart & M\_Cart & Private & Cart currently displayed on screen. \\ \hline
selectedItemId & UUID & Private & Selected item for deletion/update actions. \\ \hline
\end{tabular}
\end{center}

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{4cm}|p{3.5cm}|p{2cm}|p{2cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
renderCart & cart:M\_Cart & void & Public & Renders items and totals from provided cart object. \\ \hline
deleteItem & itemId:UUID & void & Public & Triggers remove-item request to controller. \\ \hline
\end{tabular}
\end{center}

% --- V_PaymentPageView ---
\paragraph{Class V\_PaymentPageView}
\noindent\textbf{Description:} Payment selection UI for checkout. It shows available payment methods and initiates payment for a chosen order.

\noindent\textbf{Attributes:}
\begin{center}
\begin{tabular}{|p{3cm}|p{3cm}|p{2.2cm}|p{5.7cm}|}
\hline
\textbf{Attribute} & \textbf{Datatype} & \textbf{Accessibility} & \textbf{Description} \\ \hline
orderId & UUID & Private & Order identifier currently being paid. \\ \hline
availableMethods & List\textless String\textgreater & Private & Methods shown to the user. \\ \hline
selectedMethod & String & Private & Method selected by the user. \\ \hline
\end{tabular}
\end{center}

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{4cm}|p{3.5cm}|p{2cm}|p{2cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
displayPaymentMethods & methods:List\textless String\textgreater & void & Public & Renders available payment methods on the UI. \\ \hline
selectMethod & method:String & void & Public & Stores selection and enables payment submission. \\ \hline
\end{tabular}
\end{center}

% --- V_ProfilePageView ---
\paragraph{Class V\_ProfilePageView}
\noindent\textbf{Description:} User profile dashboard displaying user identity info and order history list.

\noindent\textbf{Attributes:}
\begin{center}
\begin{tabular}{|p{3cm}|p{2.5cm}|p{2.5cm}|p{6cm}|}
\hline
\textbf{Attribute} & \textbf{Datatype} & \textbf{Accessibility} & \textbf{Description} \\ \hline
user & M\_User & Private & Current logged-in user information. \\ \hline
orderHistory & List\textless M\_Order\textgreater & Private & Orders displayed in history section. \\ \hline
\end{tabular}
\end{center}

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{4cm}|p{3.5cm}|p{2cm}|p{2cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
displayOrderHistory & orders:List\textless M\_Order\textgreater & void & Public & Renders the order list for the current user. \\ \hline
\end{tabular}
\end{center}

% --- V_OrderPageView ---
\paragraph{Class V\_OrderPageView}
\noindent\textbf{Description:} Customer order list view. Supports refreshing order states and opening a refund request popup for a selected order.

\noindent\textbf{Attributes:}
\begin{center}
\begin{tabular}{|p{3cm}|p{2.5cm}|p{2.5cm}|p{6cm}|}
\hline
\textbf{Attribute} & \textbf{Datatype} & \textbf{Accessibility} & \textbf{Description} \\ \hline
orders & List\textless M\_Order\textgreater & Private & Orders currently displayed. \\ \hline
selectedOrderId & UUID & Private & Order targeted for details/refund actions. \\ \hline
\end{tabular}
\end{center}

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{4cm}|p{3.5cm}|p{2cm}|p{2cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
openRefundPopup & orderId:UUID & void & Public & Opens refund modal for the selected order. \\ \hline
refreshMyOrders & orders:List\textless M\_Order\textgreater & void & Public & Re-renders order list using updated controller data. \\ \hline
\end{tabular}
\end{center}

% --- V_ReviewPageView ---
\paragraph{Class V\_ReviewPageView}
\noindent\textbf{Description:} Review submission UI for a laptop. Captures rating/comment, performs client-side checks, and submits to controller.

\noindent\textbf{Attributes:}
\begin{center}
\begin{tabular}{|p{3cm}|p{2.5cm}|p{2.5cm}|p{6cm}|}
\hline
\textbf{Attribute} & \textbf{Datatype} & \textbf{Accessibility} & \textbf{Description} \\ \hline
laptopId & UUID & Private & Laptop being reviewed. \\ \hline
ratingInput & int & Private & Rating selected by user. \\ \hline
commentInput & String & Private & Comment typed by user. \\ \hline
validationErrors & List\textless String\textgreater & Private & Errors shown if invalid before submit. \\ \hline
\end{tabular}
\end{center}

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{4cm}|p{2.7cm}|p{2cm}|p{2cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
pressSubmitButton & laptopId:UUID, rating:int, \newline comment:String & void & Public & Sends review payload to controller for validation and storage. \\ \hline
\end{tabular}
\end{center}

% --- V_DashboardPageView ---
\paragraph{Class V\_DashboardPageView}
\noindent\textbf{Description:} Admin dashboard UI presenting store KPIs and analytics visualizations. It shows metrics and errors relevant to admin operations.

\noindent\textbf{Attributes:}
\begin{center}
\begin{tabular}{|p{3cm}|p{2.5cm}|p{2.5cm}|p{6cm}|}
\hline
\textbf{Attribute} & \textbf{Datatype} & \textbf{Accessibility} & \textbf{Description} \\ \hline
metrics & M\_Metrics & Private & Aggregated KPI data displayed on charts. \\ \hline
periodStart & DateTime & Private & Start time selected for dashboard filtering. \\ \hline
periodEnd & DateTime & Private & End time selected for dashboard filtering. \\ \hline
\end{tabular}
\end{center}

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{4cm}|p{3.5cm}|p{2cm}|p{2cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
renderCharts & metrics:M\_Metrics & void & Public & Renders KPI charts based on metrics returned by controller. \\ \hline
displayDashboardError & message:String & void & Public & Displays admin-level errors (data load, permissions). \\ \hline
\end{tabular}
\end{center}

% --- V_InventoryPageView ---
\paragraph{Class V\_InventoryPageView}
\noindent\textbf{Description:} Admin inventory list UI displaying all laptops and enabling selection of edit/delete actions.

\noindent\textbf{Attributes:}
\begin{center}
\begin{tabular}{|p{3cm}|p{2.5cm}|p{2.5cm}|p{6cm}|}
\hline
\textbf{Attribute} & \textbf{Datatype} & \textbf{Accessibility} & \textbf{Description} \\ \hline
inventory & List\textless M\_Laptop\textgreater & Private & List of laptops shown for management. \\ \hline
selectedLaptopId & UUID & Private & Laptop selected for editing/deleting. \\ \hline
currentPage & int & Private & Current page in inventory list. \\ \hline
pageSize & int & Private & Items per page. \\ \hline
\end{tabular}
\end{center}

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{3cm}|p{4.5cm}|p{2cm}|p{2cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
loadInventoryList & inventory:List\textless M\_Laptop\textgreater & void & Public & Renders inventory list returned by controller. \\ \hline
clickEdit & laptopId:UUID & void & Public & Navigates to edit view with selected laptop id. \\ \hline
\end{tabular}
\end{center}

% --- V_AddProductPageView ---
\paragraph{Class V\_AddProductPageView}
\noindent\textbf{Description:} Admin UI form to create a new laptop product. Captures required fields and submits to the inventory controller.

\noindent\textbf{Attributes:}
\begin{center}
\begin{tabular}{|p{3cm}|p{2.5cm}|p{2.5cm}|p{6cm}|}
\hline
\textbf{Attribute} & \textbf{Datatype} & \textbf{Accessibility} & \textbf{Description} \\ \hline
brandInput & String & Private & Brand entered by admin. \\ \hline
modelNameInput & String & Private & Model name entered by admin. \\ \hline
specSummaryInput & String & Private & Specs text entered by admin. \\ \hline
priceInput & Decimal & Private & Price entered by admin. \\ \hline
stockQtyInput & int & Private & Initial stock quantity. \\ \hline
validationErrors & List\textless String\textgreater & Private & Validation errors before submission. \\ \hline
\end{tabular}
\end{center}

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{4cm}|p{3.5cm}|p{2cm}|p{2cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
openAddProductForm & N/A & void & Public & Opens the form and resets input state. \\ \hline
clickSubmit & brand:String, model:String, specs:String, price:Decimal, stock:int & void & Public & Submits product creation request to controller. \\ \hline
\end{tabular}
\end{center}

% --- V_EditProductPageView ---
\paragraph{Class V\_EditProductPageView}
\noindent\textbf{Description:} Admin UI for editing an existing laptop. Preloads product details and submits updates such as price/stock/spec changes.

\noindent\textbf{Attributes:}
\begin{center}
\begin{tabular}{|p{3cm}|p{2.5cm}|p{2.5cm}|p{6cm}|}
\hline
\textbf{Attribute} & \textbf{Datatype} & \textbf{Accessibility} & \textbf{Description} \\ \hline
laptopId & UUID & Private & Laptop currently being edited. \\ \hline
loadedLaptop & M\_Laptop & Private & Snapshot loaded for editing. \\ \hline
newPrice & Decimal & Private & Edited price value. \\ \hline
newStockQty & int & Private & Edited stock quantity. \\ \hline
newSpecSummary & String & Private & Edited specification text. \\ \hline
isActiveToggle & Boolean & Private & Whether product is active for sale. \\ \hline
\end{tabular}
\end{center}

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{4cm}|p{3.5cm}|p{2cm}|p{2cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
openEditSession & laptop:M\_Laptop & void & Public & Loads existing laptop data into editable fields. \\ \hline
clickUpdateLaptop & laptopId:UUID, price:Decimal, stock:int, specs:String, isActive:Boolean & void & Public & Submits product update request to controller. \\ \hline
\end{tabular}
\end{center}

% --- V_OrderDashboardView ---
\paragraph{Class V\_OrderDashboardView}
\noindent\textbf{Description:} Admin UI for viewing and updating customer orders. It loads order list and allows updating processing status.

\noindent\textbf{Attributes:}
\begin{center}
\begin{tabular}{|p{3cm}|p{2.5cm}|p{2.5cm}|p{6cm}|}
\hline
\textbf{Attribute} & \textbf{Datatype} & \textbf{Accessibility} & \textbf{Description} \\ \hline
orders & List\textless M\_Order\textgreater & Private & Orders displayed to the admin. \\ \hline
selectedOrderId & UUID & Private & Selected order for status update. \\ \hline
selectedStatus & String & Private & New status chosen by admin. \\ \hline
\end{tabular}
\end{center}

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{4cm}|p{3.5cm}|p{2cm}|p{2cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
fetchOrderList & orders:List\textless M\_Order\textgreater & void & Public & Renders order list returned by controller. \\ \hline
clickUpdateStatus & orderId:UUID, \newline newStatus:String & void & Public & Sends status update action to controller. \\ \hline
\end{tabular}
\end{center}

% --- V_RefundPanelView ---
\paragraph{Class V\_RefundPanelView}
\noindent\textbf{Description:} Admin UI for processing refund tickets. It shows pending requests and allows approval/rejection with comments.

\noindent\textbf{Attributes:}
\begin{center}
\begin{tabular}{|p{3cm}|p{3.5cm}|p{2.5cm}|p{6cm}|}
\hline
\textbf{Attribute} & \textbf{Datatype} & \textbf{Accessibility} & \textbf{Description} \\ \hline
pendingTickets & List\textless M\_RefundTicket\textgreater & Private & List of refund tickets awaiting decision. \\ \hline
selectedTicketId & UUID & Private & Ticket selected for decision. \\ \hline
decision & String & Private & Decision value (Approved/Rejected). \\ \hline
adminComment & String & Private & Admin comment stored with decision. \\ \hline
\end{tabular}
\end{center}

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{3.7cm}|p{4.7cm}|p{1.7cm}|p{1.8cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
displayPendingTickets & tickets:List\textless M\_RefundTicket\textgreater & void & Public & Renders the pending ticket list from controller data. \\ \hline
clickSubmitDecision & ticketId:UUID, \newline decision:String, \newline comment:String & void & Public & Sends approve/reject request to controller. \\ \hline
\end{tabular}
\end{center}



% =====================================================
\subsubsection{Control Package}
% =====================================================

% --- C_BaseController ---
\paragraph{Class C\_BaseController}
\noindent\textbf{Description:} Abstract controller providing shared utility logic for all controllers. It standardizes validation helpers, error handling, and audit logging for consistent application behavior.

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{3.5cm}|p{3cm}|p{2.3cm}|p{2cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
validateEmail & email:String & List\textless String\textgreater & Public & Validates email format and non-empty constraints. \\ \hline
validatePassword & password:String & List\textless String\textgreater & Public & Validates minimum rules (length, complexity policy). \\ \hline
handleError & errorCode:String, message:String & void & Public & Normalizes errors for UI display and logs. \\ \hline
logAudit & eventName:String, actorId:UUID, \newline entityId:UUID & void & Public & Records audit events (admin actions, status changes). \\ \hline
\end{tabular}
\end{center}

% --- C_RegistrationController ---
\paragraph{Class C\_RegistrationController}
\noindent\textbf{Description:} Manages sign-up workflow. It validates input, creates the user record, and returns a result (success or errors) for the registration view.

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{3.5cm}|p{2.6cm}|p{2.3cm}|p{2cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
validateFormData & email:String, password:String, confirm:String & List\textless String\textgreater & Public & Returns validation errors for registration fields. \\ \hline
register & email:String, password:String, role:String & UUID & Public & Creates new user and returns the created userId. \\ \hline
\end{tabular}
\end{center}

% --- C_LoginController ---
\paragraph{Class C\_LoginController}
\noindent\textbf{Description:} Handles authentication. Verifies credentials, issues a session token on success, and ends session on logout.

\noindent\textbf{Attributes:}
\begin{center}
\begin{tabular}{|p{3cm}|p{3cm}|p{2.5cm}|p{4.5cm}|}
\hline
\textbf{Attribute} & \textbf{Datatype} & \textbf{Accessibility} & \textbf{Description} \\ \hline
currentSessionToken & String & Private & Session token for current authenticated session. \\ \hline
currentUserId & UUID & Private & User id associated with current session. \\ \hline
\end{tabular}
\end{center}

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{3.5cm}|p{2.6cm}|p{2.3cm}|p{2cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
submitCredentials & email:String, pass:String & void & Public & Triggers login flow; view is updated via success/error callback. \\ \hline
verifyCredentials & email:String, pass:String & String & Public & Returns session token if valid; otherwise returns empty string. \\ \hline
logout & sessionToken:String & Boolean & Public & Invalidates session token and returns success status. \\ \hline
\end{tabular}
\end{center}

% --- C_ProductController ---
\paragraph{Class C\_ProductController}
\noindent\textbf{Description:} Retrieves product data for catalog and detail screens. Supports paging, keyword search, and filtering using M\_FilterCriteria.

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{3.6cm}|p{3.6cm}|p{2.8cm}|p{1.3cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
fetchPaginatedProducts & page:int, size:int & List\textless M\_Laptop\textgreater & Public & Returns a page of laptops for listing. \\ \hline
fetchNextPage & cursor:String, size:int & List\textless M\_Laptop\textgreater & Public & Returns next page using cursor-based pagination. \\ \hline
queryProducts & keywords:String, page:int, size:int & List\textless M\_Laptop\textgreater & Public & Keyword search for laptops with pagination. \\ \hline
queryFilteredProducts & criteria:M\_FilterCriteria & List\textless M\_Laptop\textgreater & Public & Filtered search using criteria object. \\ \hline
getLaptopDetails & laptopId:UUID & M\_Laptop & Public & Returns laptop details for product page. \\ \hline
getLaptopReviews & laptopId:UUID & List\textless M\_Review\textgreater & Public & Returns reviews for product page rendering. \\ \hline
\end{tabular}
\end{center}

% --- C_CartController ---
\paragraph{Class C\_CartController}
\noindent\textbf{Description:} Manages the user's shopping cart state. Adds items, updates quantities, removes items, and returns cart snapshots for UI rendering.

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{3.3cm}|p{2.7cm}|p{2.3cm}|p{1.8cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
addToCart & userId:UUID, laptopId:UUID, qty:int & M\_Cart & Public & Adds item and returns updated cart for rendering. \\ \hline
updateQuantity & userId:UUID, itemId:UUID, qty:int & M\_Cart & Public & Updates a cart item quantity and returns updated cart. \\ \hline
removeItem & userId:UUID, itemId:UUID & M\_Cart & Public & Removes item and returns updated cart. \\ \hline
queryCart & userId:UUID & M\_Cart & Public & Returns current cart state for the user. \\ \hline
\end{tabular}
\end{center}

% --- C_OrderController ---
\paragraph{Class C\_OrderController}
\noindent\textbf{Description:} Converts carts into orders and manages order state transitions. Provides order history to customers and supports admin status updates.

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{3.8cm}|p{2.4cm}|p{2.5cm}|p{1.8cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
placeOrder & userId:UUID, cartId:UUID & UUID & Public & Creates an order from a cart and returns orderId. \\ \hline
viewOrders & userId:UUID & List\textless M\_Order\textgreater & Public & Returns list of orders belonging to the user. \\ \hline
getOrderDetail & orderId:UUID & M\_Order & Public & Returns full order info for order detail UI. \\ \hline
updateStatus & orderId:UUID, status:String, adminId:UUID & Boolean & Public & Updates order status and returns true if updated. \\ \hline
\end{tabular}
\end{center}

% --- C_PaymentGateway ---
\paragraph{Class C\_PaymentGateway}
\noindent\textbf{Description:} Abstraction for external payment systems. Provides methods to start a transaction and confirm success/failure using gateway references.

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{3.8cm}|p{3.4cm}|p{2.3cm}|p{1.8cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
createTransaction & orderId:UUID, amount:Decimal, method:String & String & Public & Creates gateway transaction; returns gatewayRef. \\ \hline
transactionSuccess & gatewayRef:String & Boolean & Public & Confirms transaction success from gateway callback. \\ \hline
transactionFail & gatewayRef:String, reason:String & Boolean & Public & Confirms transaction failure and records reason. \\ \hline
\end{tabular}
\end{center}

% --- C_PaymentController ---
\paragraph{Class C\_PaymentController}
\noindent\textbf{Description:} Coordinates payment for orders. Uses the payment gateway to create/confirm transactions and updates order status accordingly.

\noindent\textbf{Attributes:}
\begin{center}
\begin{tabular}{|p{3cm}|p{3cm}|p{2.5cm}|p{4.5cm}|}
\hline
\textbf{Attribute} & \textbf{Datatype} & \textbf{Accessibility} & \textbf{Description} \\ \hline
gateway & C\_PaymentGateway & Private & Payment provider abstraction. \\ \hline
\end{tabular}
\end{center}

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{3.1cm}|p{2.9cm}|p{3.5cm}|p{1.4cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
makePayment & orderId:UUID, method:String & M\_PaymentTransaction & Public & Creates transaction record and returns it for UI flow. \\ \hline
confirmPayment & gatewayRef:String & Boolean & Public & Confirms gateway callback and returns final success state. \\ \hline
updateOrderStatus & orderId:UUID, \newline status:String & void & Public & Updates order state after payment outcome. \\ \hline
\end{tabular}
\end{center}

% --- C_RefundController ---
\paragraph{Class C\_RefundController}
\noindent\textbf{Description:} Handles the lifecycle of refund tickets. Customers submit refund requests; admins fetch pending tickets and resolve them with decisions and comments.

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{3.3cm}|p{2.8cm}|p{3.7cm}|p{1.3cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
submitRefundRequest & userId:UUID, \newline orderId:UUID, \newline reason:String & UUID & Public & Creates refund ticket and returns ticketId. \\ \hline
fetchPendingTickets & page:int, size:int & List\textless M\_RefundTicket\textgreater & Public & Returns pending tickets for admin processing UI with pagination. \\ \hline
solveTicket & adminId:UUID, ticketId:UUID, decision:String, comments:String & Boolean & Public & Approves/rejects and returns true if resolved successfully. \\ \hline
getUserTickets & userId:UUID & List\textless M\_RefundTicket\textgreater & Public & Returns tickets belonging to a specific user. \\ \hline
\end{tabular}
\end{center}

% --- C_ReviewController ---
\paragraph{Class C\_ReviewController}
\noindent\textbf{Description:} Validates and stores reviews for laptops. Ensures rating/comment constraints and associates review with user and laptop.

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{3.8cm}|p{3cm}|p{2.3cm}|p{1.8cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
validateAndStoreReview & userId:UUID, laptopId:UUID, rating:int, \newline comment:String & UUID & Public & Validates and persists review; returns reviewId. \\ \hline
\end{tabular}
\end{center}

% --- C_AnalyticsController ---
\paragraph{Class C\_AnalyticsController}
\noindent\textbf{Description:} Aggregates business metrics for admin dashboard. Computes orders count and revenue over a chosen date range.

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{3.8cm}|p{3.4cm}|p{2.3cm}|p{1.8cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
getMetrics & periodStart:DateTime, periodEnd:DateTime & M\_Metrics & Public & Returns metrics object for dashboard rendering. \\ \hline
\end{tabular}
\end{center}

% --- C_InventoryController ---
\paragraph{Class C\_InventoryController}
\noindent\textbf{Description:} Admin controller for CRUD operations on laptops. Creates new products, updates existing product fields, deletes products, and lists inventory for management UI.

\noindent\textbf{Methods:}
\begin{center}
\begin{tabular}{|p{3.8cm}|p{3.4cm}|p{2.8cm}|p{1.8cm}|p{4cm}|}
\hline
\textbf{Method} & \textbf{Input} & \textbf{Output} & \textbf{Access} & \textbf{Description} \\ \hline
createNewLaptop & brand:String, model:String, specs:String, price:Decimal, stock:int & UUID & Public & Creates a new laptop and returns laptopId. \\ \hline
deleteProduct & productId:UUID & Boolean & Public & Deletes (or deactivates) a product; returns success. \\ \hline
updateProductInfo & laptopId:UUID, price:Decimal, stock:int, specs:String, \newline isActive:Boolean & Boolean & Public & Updates product fields; returns true if updated. \\ \hline
listInventory & page:int, size:int & List\textless M\_Laptop\textgreater & Public & Returns a page of laptops for inventory view listing. \\ \hline
\end{tabular}
\end{center}


\subsection{Data Storage Design}

\subsubsection{Overview}
The database design for the Laptop Shop Management System is structured to support the system’s core retail functionalities while maintaining data integrity and scalability. The system utilizes PostgreSQL as the primary relational database management system for structured transaction and user data.

\begin{figure}[h]
    \centering
    \includegraphics[width=1.0\textwidth]{ERD_DB.png}
    \caption{Entity-Relationship diagram of the Laptop Management Store database}
    \label{fig:backend_architecture}
\end{figure}

The schema is centered around a normalized relational structure where the users table serves as the primary entity for identity management. Relationships are strictly enforced through foreign keys to ensure consistency across the product catalog (laptops), sales transactions (orders), and customer feedback (reviews). This design ensures that all user actions are traceable and that product inventory is accurately managed through dedicated line items.

\begin{table}[H]
\centering
\begin{tabular}{|c|l|p{8cm}|}
\hline
\textbf{Index} & \textbf{Table Name} & \textbf{Description} \\ \hline
1 & users & Central repository for account credentials, profile information, and system roles. \\ \hline
2 & laptops & Stores extensive product details, specifications, pricing, and stock status. \\ \hline
3 & orders & Captures transaction headers, linked to users and specific shipping snapshots. \\ \hline
4 & order\_items & Links orders to specific products, recording quantities and purchase prices. \\ \hline
5 & reviews & Stores customer feedback and ratings for specific laptops. \\ \hline
6 & refund\_tickets & Manages refund requests and tracks their resolution status. \\ \hline
\end{tabular}
\caption{Database Tables Overview}
\end{table}

\subsubsection{Detailed Data Storage Design}

\textbf{1. Table: users} \\
Description: Stores user account information, authentication data, and authorization roles.

\begin{table}[H]
\centering
\begin{tabular}{|c|l|l|c|l|p{4cm}|}
\hline
\textbf{Index} & \textbf{Fieldname} & \textbf{Datatype} & \textbf{Nullable} & \textbf{Constraint} & \textbf{Description} \\ \hline
1 & id & VARCHAR(50) & No & PK, Unique & Unique identifier for the user. \\ \hline
2 & email & VARCHAR(100) & No & Unique & User's login email address. \\ \hline
3 & first\_name & VARCHAR(50) & No & & User's first name. \\ \hline
4 & last\_name & VARCHAR(50) & No & & User's last name. \\ \hline
5 & phone & VARCHAR(15) & Yes & & Contact phone number. \\ \hline
6 & created\_at & DATETIME & No & & Timestamp of account creation. \\ \hline
\end{tabular}
\caption{Users Table Design}
\end{table}

\textbf{2. Table: laptops} \\
Description: Stores extensive product details, specifications, pricing, and stock status.

\begin{table}[H]
\centering
\begin{tabular}{|c|l|l|c|l|p{4cm}|}
\hline
\textbf{Index} & \textbf{Fieldname} & \textbf{Datatype} & \textbf{Nullable} & \textbf{Constraint} & \textbf{Description} \\ \hline
1 & id & VARCHAR(10) & No & PK, Unique & Unique identifier for the laptop. \\ \hline
2 & brand & VARCHAR(50) & No & & Brand name (e.g., Dell, Asus). \\ \hline
3 & name & VARCHAR(100) & No & & Model name of the laptop. \\ \hline
4 & description & TEXT & Yes & & Detailed product description. \\ \hline
5 & cpu & VARCHAR(50) & No & & Processor specifications. \\ \hline
6 & ram\_amount & VARCHAR(20) & No & & Amount of RAM (e.g., 16GB). \\ \hline
7 & vga & VARCHAR(50) & No & & Graphics card specifications. \\ \hline
8 & quantity & INT & No & & Current stock quantity. \\ \hline
9 & original\_price & DECIMAL & No & & MSRP price. \\ \hline
10 & sale\_price & DECIMAL & No & & Actual selling price. \\ \hline
11 & product\_image & VARCHAR(255) & Yes & & URL reference to the image. \\ \hline
12 & inserted\_at & DATETIME & No & & Timestamp of record creation. \\ \hline
\end{tabular}
\caption{Laptops Table Design}
\end{table}

\textbf{3. Table: orders} \\
Description: Captures customer purchase information and transaction status.

\begin{table}[H]
\centering
\begin{tabular}{|c|l|l|c|l|p{4cm}|}
\hline
\textbf{Index} & \textbf{Fieldname} & \textbf{Datatype} & \textbf{Nullable} & \textbf{Constraint} & \textbf{Description} \\ \hline
1 & id & VARCHAR(10) & No & PK, Unique & Unique identifier for the order. \\ \hline
2 & user\_id & VARCHAR(50) & No & FK & Link to users.id. \\ \hline
3 & shipping\_address & TEXT & No & & Delivery address at time of purchase. \\ \hline
4 & phone\_number & VARCHAR(15) & No & & Contact phone for this specific order. \\ \hline
5 & payment\_method & VARCHAR(20) & No & & e.g., COD, E-banking. \\ \hline
6 & total\_price & DECIMAL & No & & Total value of the order. \\ \hline
7 & status & VARCHAR(20) & No & & Order status (Pending, Shipped, etc). \\ \hline
8 & created\_at & DATETIME & No & & Timestamp when order was placed. \\ \hline
\end{tabular}
\caption{Orders Table Design}
\end{table}

\textbf{4. Table: order\_items} \\
Description: Links orders to specific products, recording snapshots of price to ensure accurate history.

\begin{table}[H]
\centering
\begin{tabular}{|c|l|l|c|l|p{4cm}|}
\hline
\textbf{Index} & \textbf{Fieldname} & \textbf{Datatype} & \textbf{Nullable} & \textbf{Constraint} & \textbf{Description} \\ \hline
1 & id & VARCHAR(10) & No & PK, Unique & Unique identifier for the item. \\ \hline
2 & order\_id & VARCHAR(10) & No & FK & Link to orders.id. \\ \hline
3 & product\_id & VARCHAR(10) & No & FK & Link to laptops.id. \\ \hline
4 & quantity & INT & No & & Number of units purchased. \\ \hline
5 & price\_at\_purchase & DECIMAL & No & & Price at the time of transaction. \\ \hline
\end{tabular}
\caption{Order\_Items Table Design}
\end{table}

\textbf{5. Table: reviews} \\
Description: Stores customer feedback and ratings for specific laptops.

\begin{table}[H]
\centering
\begin{tabular}{|c|l|l|c|l|p{4cm}|}
\hline
\textbf{Index} & \textbf{Fieldname} & \textbf{Datatype} & \textbf{Nullable} & \textbf{Constraint} & \textbf{Description} \\ \hline
1 & id & VARCHAR(10) & No & PK, Unique & Unique identifier for the review. \\ \hline
2 & laptop\_id & VARCHAR(10) & No & FK & Link to laptops.id. \\ \hline
3 & user\_id & VARCHAR(50) & No & FK & Link to users.id. \\ \hline
4 & rating & INT & No & & Numerical rating (1-5). \\ \hline
5 & review\_text & TEXT & Yes & & Written feedback content. \\ \hline
6 & created\_at & DATETIME & No & & Timestamp of the review. \\ \hline
\end{tabular}
\caption{Reviews Table Design}
\end{table}

\textbf{6. Table: refund\_tickets} \\
Description: Manages refund requests and tracks their resolution status.

\begin{table}[H]
\centering
\begin{tabular}{|c|l|l|c|l|p{4cm}|}
\hline
\textbf{Index} & \textbf{Fieldname} & \textbf{Datatype} & \textbf{Nullable} & \textbf{Constraint} & \textbf{Description} \\ \hline
1 & id & VARCHAR(10) & No & PK, Unique & Unique identifier for the ticket. \\ \hline
2 & order\_id & VARCHAR(10) & No & FK & Link to orders.id. \\ \hline
3 & reason & TEXT & No & & Reason provided by customer. \\ \hline
4 & status & VARCHAR(20) & No & & Status (Pending, Approved, Rejected). \\ \hline
5 & created\_at & DATETIME & No & & Timestamp of request submission. \\ \hline
6 & resolved\_at & DATETIME & Yes & & Timestamp of resolution. \\ \hline
\end{tabular}
\caption{Refund\_Tickets Table Design}
\end{table}

\subsection{User Interface Design}
\subsubsection{Interface Prototype}
\subsubsection{Interface Specification}
\subsubsection{Screen Flow}

\section{Conclusion and Future Work}
\subsection{Conclusion}
\subsection{Future Work}

\section*{References}

\end{document}


